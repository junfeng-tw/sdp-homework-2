# TDD With ChatGPT

## 题目
设计一个计算保龄球比赛每一局总得分的程序，保龄球的计分规则如下：

- 每局总共有十轮，每轮一开始会有十支球瓶，球手可以扔两次球，目标是用尽量少的球把全部球瓶击倒。
- 如果第一球就把全部的球瓶都击倒了，也就是 STRIKE，画面会出现“X”，就算完成一轮，所得分数是10分再加后面两球的倒瓶数。
- 如果第一球没有全倒，就要再打一球，如果第二球将剩下的球瓶全部击倒，也就是 SPARE，画面出现“/”，也算完成一格，所得分数为10分再加下一轮一球的倒瓶数。
- 如果第二球也没有把球瓶全部击倒的话，那么分数就是第一球加第二球倒的瓶数，没有奖励（bonus），再接着打下一轮。
- 第十轮有机会扔三次球。如果在第十轮出现 STRIKE 或者 SPARE，则球手可再加打第三球。
- 全部十轮的得分相加就是这一局的总得分。

## TDD

### 1. 列出测试用例

---

**我：** 我将使用测试驱动开发（TDD）进行开发，请给出测试顺序，并给出原则。

**ChatGPT：**

在使用测试驱动开发（TDD）来设计计算保龄球比赛总得分的程序时，遵循“红-绿-重构”（Red-Green-Refactor）循环至关重要。以下是一个可能的测试顺序和原则：

1. **简单案例：所有投球均未击倒任何球瓶**
    - 输入：`[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`
    - 预期输出：`0`
    - 目的：确保基本结构和零分计算正确。

2. **简单案例：所有投球均击倒一个球瓶**
    - 输入：`[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]`
    - 预期输出：`20`
    - 目的：确保正常分数的累加正确。

3. **单个 Spare**
    - 输入：`[5, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`
    - 预期输出：`16`
    - 目的：确保 Spare 的奖励正确计算。

4. **单个 Strike**
    - 输入：`[10, 3, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`
    - 预期输出：`24`
    - 目的：确保 Strike 的奖励正确计算。

5. **连续 Spares**
    - 输入：`[5, 5, 5, 5, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`
    - 预期输出：`31`
    - 目的：确保连续 Spares 的奖励正确计算。

6. **连续 Strikes**
    - 输入：`[10, 10, 10, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`
    - 预期输出：`81`
    - 目的：确保连续 Strikes 的奖励正确计算。

7. **第十轮的 Strike**
    - 输入：`[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 1, 1]`
    - 预期输出：`12`
    - 目的：确保第十轮的 Strike 正确处理。

8. **第十轮的 Spare**
    - 输入：`[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 3]`
    - 预期输出：`13`
    - 目的：确保第十轮的 Spare 正确处理。

9. **完美游戏：全部 Strikes**
    - 输入：`[10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]`
    - 预期输出：`300`
    - 目的：确保最大分数计算正确。


### 2. Create One Test Case

**我:** 使用Java，junit，先给我写出第一个测试，不要实现代码先

**Chatgpt:**

```Java
import static org.junit.Assert.assertEquals;
import org.junit.Test;

public class BowlingGameTest {

    @Test
    public void testAllZeros() {
        com.example.BowlingGame game = new com.example.BowlingGame();
        for (int i = 0; i < 20; i++) {
            game.roll(0);
        }
        assertEquals(0, game.getScore());
    }
}
public class com.example.BowlingGame {

   public void roll(int pins) {
      // 暂时不实现具体逻辑
   }

   public int getScore() {
      return 0; // 暂时返回0
   }
}

```


### 3. Modify Code to make test pass

### 4. refactor (Optional)

### 5. Check If Test Case are all done, if not, get back to complete

### 6. End
